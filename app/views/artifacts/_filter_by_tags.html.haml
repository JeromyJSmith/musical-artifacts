- search_fields = Artifact.search_fields + ['q']

- [:tags, :apps, :formats].each do |tag_type|
  .filter-sidebar.dark-item
    %h3.tag-title= t("artifacts.index.filters.#{tag_type}")
    - @tags[tag_type].each do |tag|
      = link_to "#{tag.name} (#{tag.count})", artifacts_path(params.slice(*search_fields).merge(tag_type => tag.name)), class: "tag-filter #{tag_type.to_s.singularize}-tag"

.filter-sidebar.dark-item
  %h3.tag-title= t("artifacts.index.filters.license")
  - @licenses.each do |license_type|
    = link_to artifacts_path(params.slice(*search_fields).merge(license: license_type)) do
      = image_tag License.type_image(license_type), alt: License.type_name(license_type), class: 'license-tag'

  %p= link_to @copyright.name, artifacts_path(params.slice(*search_fields).merge(license: @copyright.short_name))
